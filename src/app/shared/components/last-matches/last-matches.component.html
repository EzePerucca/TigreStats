<section class="section">
  <div class="section__header">
    <h2 class="section__title">Últimos Resultados</h2>
    <a routerLink="/partidos" class="section__link">Ver todos →</a>
  </div>
  <div class="match-list">
    <ng-container *ngIf="loading; else loaded">
      <div class="ui-state ui-state--loading">Cargando estadísticas...</div>
    </ng-container>
    <ng-template #loaded>
      <ng-container *ngIf="error; else matchesList">
        <div class="ui-state ui-state--error">⚠️ {{ error }}</div>
      </ng-container>
      <ng-template #matchesList>
        <ng-container *ngIf="matches?.length; else empty">
          <div *ngFor="let match of matches; trackBy: trackById" class="match-row">
            <div class="match-row__date">
              {{ match.date | date: 'dd MMM' : '' : 'es' }}
              <span class="match-row__round">{{ match.round }}</span>
            </div>
            <div class="match-row__teams">
              <span class="match-row__team" [class.match-row__team--tigre]="match.homeTeam === 'Tigre'">
                {{ match.homeTeam }}
              </span>
              <div class="match-row__score">
                {{ match.homeScore }} – {{ match.awayScore }}
              </div>
              <span class="match-row__team" [class.match-row__team--tigre]="match.awayTeam === 'Tigre'">
                {{ match.awayTeam }}
              </span>
            </div>
            <div class="result-badge" [class]="getResultClass(match.result ?? '')">
              {{ getResultLabel(match.result ?? '') }}
            </div>
          </div>
        </ng-container>
        <ng-template #empty>
          <p class="ui-state ui-state--empty">No hay partidos registrados para esta temporada.</p>
        </ng-template>
      </ng-template>
    </ng-template>
  </div>
</section>
